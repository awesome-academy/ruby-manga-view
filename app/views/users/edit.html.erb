<% provide :title, t("users.edit.edit_btn") %>
<% provide :button_text, t("users.edit.save_change") %>
<div class="user-edit-page">
  <div class="actions">
    <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
      <a class="nav-link active" data-toggle="pill" href="#v-pills-home" role="tab" aria-selected="true"><%= t "users.edit.edit_btn" %></a>
      <a class="nav-link " data-toggle="pill" href="#v-pills-pass" role="tab" aria-selected="true"><%= t "users.edit.change_pass" %></a>
    </div>
  </div>
  <div class="details tab-content">
    <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
      <%= form_with model: @user, local: true, html: {class: "form-horizontal form-edit-user"} do |f| %>
        <%= render "shared/error_messages", object: f.object %>
        <div class="form-group row">
          <div class="col-sm-3 col-form-label avatar">
            <% if @user.avatar_user?%>
              <%= image_tag @user.avatar_user.to_s, class: "avatar" %>
            <% else %>
              <%= image_tag "default-image", class: "avatar" %>
            <% end %>
          </div>
          <div class="col-sm-9">
            <p class="username"><%=@user.name %></p>
            <h3 class="change-photo" href=""><%= t "users.edit.change_avt" %>
              <span class="picture">
                <%= f.file_field :avatar_user, accept: "image/jpeg,image/gif,image/png" %>
              </span>
            </h3>
          </div>
        </div>
        <div class="form-group row">
          <%= f.label :name, class: "col-sm-3 col-form-label" %>
          <div class="col-sm-9">
            <%= f.text_field :name, class: "form-control" %>
          </div>
        </div>
        <div class="form-group row">
          <%= f.label :email, class: "col-sm-3 col-form-label" %>
          <div class="col-sm-9">
            <%= f.email_field :email, class: "form-control", id: "email_disable" %>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
          </div>
          <div class="col-sm-9">
            <%= f.submit yield(:button_text), class: "btn btn-primary" %>
            <%= link_to t("users.edit.back"), user_path, class: "btn_back" %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="tab-pane fade" id="v-pills-pass" role="tabpanel" aria-labelledby="v-pills-pass-tab">
      <%= form_with model: @user, local: true, html: {class: "form-horizontal form-edit-user"} do |f| %>
        <%= render "shared/error_messages", object: f.object  %>
        <div class="form-group row">
          <%= f.label :password, class: "col-sm-3 col-form-label" %>
          <div class="col-sm-9">
            <%= f.password_field :password, class: "form-control" %>
          </div>
        </div>
        <div class="form-group row">
          <%= f.label :password_confirmation, class: "col-sm-3 col-form-label" %>
          <div class="col-sm-9">
            <%= f.password_field :password_confirmation, class: "form-control" %>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
          </div>
          <div class="col-sm-9">
            <%= f.submit yield(:button_text), class: "btn btn-primary" %>
            <%= link_to t("users.edit.back"), user_path, class: "btn_back" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
